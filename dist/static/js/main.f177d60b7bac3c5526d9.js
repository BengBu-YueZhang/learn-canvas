!function(n){var r={};function a(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=n,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s="4a8b63e925f44201b374")}({"4a8b63e925f44201b374":function(t,e,n){"use strict";n.r(e);var a={Linear:function(t,e,n,r){return n*t/r+e},Quad:{easeIn:function(t,e,n,r){return n*(t/=r)*t+e},easeOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},Cubic:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOut:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}},Quart:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOut:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}},Quint:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}},Sine:{easeIn:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOut:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOut:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e}},Expo:{easeIn:function(t,e,n,r){return 0==t?e:n*Math.pow(2,10*(t/r-1))+e},easeOut:function(t,e,n,r){return t==r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOut:function(t,e,n,r){return 0==t?e:t==r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e}},Circ:{easeIn:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOut:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},Elastic:{easeIn:function(t,e,n,r,a,u){var i;return 0==t?e:1==(t/=r)?e+n:(void 0===u&&(u=.3*r),!a||a<Math.abs(n)?(i=u/4,a=n):i=u/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/u)+e)},easeOut:function(t,e,n,r,a,u){var i;return 0==t?e:1==(t/=r)?e+n:(void 0===u&&(u=.3*r),i=!a||a<Math.abs(n)?(a=n,u/4):u/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-i)*(2*Math.PI)/u)+n+e)},easeInOut:function(t,e,n,r,a,u){var i;return 0==t?e:2==(t/=r/2)?e+n:(void 0===u&&(u=r*(.3*1.5)),i=!a||a<Math.abs(n)?(a=n,u/4):u/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/u)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/u)*.5+n+e)}},Back:{easeIn:function(t,e,n,r,a){return void 0===a&&(a=1.70158),n*(t/=r)*t*((a+1)*t-a)+e},easeOut:function(t,e,n,r,a){return void 0===a&&(a=1.70158),n*((t=t/r-1)*t*((a+1)*t+a)+1)+e},easeInOut:function(t,e,n,r,a){return void 0===a&&(a=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(a*=1.525))*t-a))+e:n/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+e}},Bounce:{easeIn:function(t,e,n,r){return n-a.Bounce.easeOut(r-t,0,n,r)+e},easeOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOut:function(t,e,n,r){return t<r/2?.5*a.Bounce.easeIn(2*t,0,n,r)+e:.5*a.Bounce.easeOut(2*t-r,0,n,r)+.5*n+e}}},r=a;function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var s=document.getElementById("canvas"),c=50,f=0,h=s.width,l=s.height,d=[],m="positive";function v(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function M(t){for(var e=(new Date).getTime();(new Date).getTime()-e<t;);}var g,I=s.getContext("2d"),p=function(){function u(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:4,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"#757575";i(this,u),this.formX=v(-h,h),this.formY=v(-l,l),this.formZ=v(-100,100),this.currentX=this.formX,this.currentY=this.formY,this.currentZ=this.formZ,this.toX=t,this.toY=e,this.toZ=n,this.r=r,this.color=a}return o(u,[{key:"render",value:function(t){var e=100/(100+this.currentZ),n=parseInt(Math.abs(h/2+(this.currentX-h/2)*e)),r=parseInt(Math.abs(l/2+(this.currentY-l/2)*e)),a=this.r*e;t.save(),t.fillStyle=this.color,t.beginPath(),t.arc(n,r,a,0,2*Math.PI,!0),t.closePath(),t.fill(),t.restore()}}]),u}();(g=new(function(){function e(t){i(this,e),this.text=t,this.imageData=null}return o(e,[{key:"getImageData",value:function(){var t=document.createElement("canvas");t.width=h,t.height=l;var e=t.getContext("2d");e.clearRect(0,0,h,l),e.save(),e.fillStyle="rgb(255, 255, 255)",e.fillRect(0,0,h,l),e.fillStyle="rgb(0, 0, 0)",e.font="240px 微软雅黑",e.textAlign="center",e.fillText(this.text,h/2,l/2),e.restore(),this.imageData=e.getImageData(0,0,h,l)}},{key:"addBall",value:function(){for(var t=4;t<this.imageData.width;t+=8)for(var e=4;e<this.imageData.height;e+=8){var n=this.imageData.data[4*((e-1)*this.imageData.width+(t-1))-1+1],r=this.imageData.data[4*((e-1)*this.imageData.width+(t-1))-1+2],a=this.imageData.data[4*((e-1)*this.imageData.width+(t-1))-1+3];if(n<180&&r<180&&a<180){var u=new p(t,e,0);u.render(I),d.push(u)}}}}]),e}())("新年快乐")).getImageData(),g.addBall(),window.requestAnimationFrame(function t(){if("positive"===m){I.clearRect(0,0,h,l),I.save();for(var e=0;e<d.length;e++)d[e].currentX=r.Quad.easeOut(f,d[e].formX,d[e].toX-d[e].formX,c),d[e].currentY=r.Quad.easeOut(f,d[e].formY,d[e].toY-d[e].formY,c),d[e].currentZ=r.Quad.easeOut(f,d[e].formZ,d[e].toZ-d[e].formZ,c),d[e].render(I);I.restore(),c<++f&&(m="negative",f=0,M(1e3)),window.requestAnimationFrame(t)}else{I.clearRect(0,0,h,l),I.save();for(var n=0;n<d.length;n++)d[n].currentX=r.Quad.easeOut(f,d[n].toX,d[n].formX-d[n].toX,c),d[n].currentY=r.Quad.easeOut(f,d[n].toY,d[n].formY-d[n].toY,c),d[n].currentZ=r.Quad.easeOut(f,d[n].toZ,d[n].formZ-d[n].toZ,c),d[n].render(I);I.restore(),c<++f&&(m="positive",f=0,M(1e3)),window.requestAnimationFrame(t)}})}});